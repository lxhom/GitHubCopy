/**
* Generate the footer & Copy URLs.
* @param {string[]} copyStrings The strings that should be copyable
* @param {string} githubURL The link to your markdown file on your GitHub Page (NOT your repository). Example for demo.md from this repository: https://lxhom.github.io/GitHubCopy/demo.md
* @param {boolean} shhh Add a message saying "Shhh, this is the secret JS Section!"
* @param {boolean} link Add a link to my GitHub page
* @param {string} footerText Add a text to the footer arrow
* @return {{markdown: string, urls: {code: string, url: string}[]}} The output markdown string, and an array with {code, url} objects (indices match with copyStrings)
*/
export function generate(
  copyStrings: string[],
  githubURL: string,
  shhh: boolean = true,
  link: boolean = true,
  footerText: string = ""
): {markdown: string, urls: {code: string, url: string}[]} {
  let markdown: string = `<details><summary>${footerText}</summary>\n\n`;
  if (shhh) markdown += "Shhh, this is the secret JS Section!\n\n";
  if (link) markdown += "Generated by [GitHubCopy](https://github.com/lxhom/GitHubCopy/)\n\n";
  markdown += "<script>let i=location.search.split('?')[1];i.length?history.back(navigator.clipboard.writeText(unescape([";
  let urls: {code: string, url: string}[] = []
  copyStrings.forEach((value: string, index: number) => {
    markdown += "'" + escape(value) + "',"
    urls.push({code: value, url: githubURL + "?" + index})
  })
  markdown.substr
  markdown += "][+i]))):i</script>\n\n</details>\n\n";
  return {markdown, urls};
}